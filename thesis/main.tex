% arara: pdflatex: { synctex: yes }
% arara: makeindex: { style: ctuthesis }
% arara: bibtex

% The class takes all the key=value arguments that \ctusetup does,
% and a couple more: draft and oneside
\documentclass[twoside]{ctuthesis}
\usepackage[toc]{appendix}
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{svg}
\usepackage{placeins}
\usepackage[capposition=bottom]{floatrow}
\usepackage{listings, listings-rust}
\usepackage{multirow}
\usepackage{adjustbox}

\PassOptionsToPackage{hyphens}{url}
\usepackage[pdftex,
            pdfauthor={Jiří Maňák},
            pdftitle={Sensor network for Smart Agriculture}
			]{hyperref}

\ctusetup{
	preprint = \today,
	mainlanguage = english,
	titlelanguage = english,
	otherlanguages = {czech},
	title-czech = {Senzorová síť pro Smart Agriculture},
	title-english = {Sensor network for Smart Agriculture},
%	subtitle-czech = {},
%	subtitle-english = {},
	doctype = B,
	faculty = F3,
	department-czech = {Katedra meření},
	department-english = {Department of Measurement},
	author = {Jiří Maňák},
	supervisor = {prof. Ing. Radislav Šmíd, Ph.D.},
	supervisor-address = {Praha, Technická 1902/2, místnost: A3-324},
%	supervisor-specialist = {},
%	fieldofstudy-english = {},
%	subfieldofstudy-english = {},
%	fieldofstudy-czech = {},
%	subfieldofstudy-czech = {},
	keywords-czech = {slovo, klíč},
	keywords-english = {word, key},
	day = 1,
	month = 5,
	year = 2024,
	specification-file = {sub/thesis-specification.pdf},
%	front-specification = true,
%	front-list-of-figures = false,
%	front-list-of-tables = false,
%	monochrome = true,
%	layout-short = true,
}


\ctuprocess

\addto\ctucaptionsczech{%
\def\supervisorname{prof. Ing. Radislav Šmíd, Ph.D.}%
\def\subfieldofstudyname{Kybernetika a Robotika}%
}

\ctutemplateset{maketitle twocolumn default}{
	\begin{twocolumnfrontmatterpage}
		\ctutemplate{twocolumn.thanks}
		\ctutemplate{twocolumn.declaration}
		\ctutemplate{twocolumn.abstract.in.titlelanguage}
		\ctutemplate{twocolumn.abstract.in.secondlanguage}
		\ctutemplate{twocolumn.tableofcontents}
		\ctutemplate{twocolumn.listoffigures}
	\end{twocolumnfrontmatterpage}
}

\lstset{language=Rust, style=boxed}

\newcommand{\code}[1]{\lstinline{#1}}
\newcommand{\link}[2]{\href{#1}{#2}\footnote{#1}}

\setlength{\parskip}{1.5ex plus 0.2ex minus 0.1ex}

% Abstract in Czech
\begin{abstract-czech}

\end{abstract-czech}

% Abstract in English
\begin{abstract-english}

\end{abstract-english}

% Acknowledgements / Podekovani
\begin{thanks}

\end{thanks}

% Declaration / Prohlaseni
\begin{declaration}
Prohlašuji, že jsem předloženou práci vypracoval samostatně, a že jsem uvedl veškerou použitou literaturu.

Prague, \ctufield{day}.~\monthinlanguage{title}~\ctufield{year}
\end{declaration}


\begin{document}

\maketitle

\ctutemplate{specification.as.chapter}

\chapter{\label{chapter:introduction}Introduction}
\input{sub/1_intro.tex}
\chapter{\label{chapter:prior}Prior art}
\input{sub/2_prior.tex}
\chapter{\label{chapter:architecture}System architecture}
\input{sub/3_architecture.tex}
\chapter{\label{chapter:results}Results}
\input{sub/4_results.tex}
\chapter{Conclusions}
\input{sub/5_conclusion.tex}
\printindex

\begin{appendices}
\chapter{\label{chapter:rust}Using the Rust programming language for embedded applications}
\input{sub/a_rust.tex}
\chapter{\label{chapter:module01-files}Module v0.1 design files}
\input{sub/b_module01.tex}
\chapter{\label{chapter:sensor-files}Soil moisture sensor board design files}
\input{sub/d_sensor01.tex}
\chapter{\label{chapter:more-range-test}Additional data from the range test}
\input{sub/e_range_test.tex}
\end{appendices}

\bibliographystyle{plainurl}
\bibliography{main.bib}

\end{document}